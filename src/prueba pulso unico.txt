library ieee;
use ieee.std_logic_1164.all;
entity generador_pulso is
	port(
		clk		: in std_logic;
        reset	: in std_logic;
        sig		: out std_logic
	);
end generador_pulso;

architecture arch of generador_pulso is
begin
  process(clk, reset)
     variable flag_pulso_pendiente : std_logic;
  begin
     if reset = '1' then
        flag_pulso_pendiente := '1';
     elsif rising_edge(clk) then
        sig <= '0';     -- Por defecto, la seÃ±al de salida a 0
        if flag_pulso_pendiente = '1' then
          sig <= '1';  -- saca un 1 este ciclo
          flag_pulso_pendiente := '0';
        end if;
    end if;
  end process;
end arch;
library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity registro is
  	port(
    	reset	: in std_logic;
        clk		: in std_logic;
        load	: in std_logic;
        val_in	: unsigned(255 downto 0);
        en		: in std_logic;
        val_out	: out unsigned(val_in'range)
    );
end registro;


architecture behavioural of registro is
	signal val_i: unsigned(val_in'range);
begin
	period_reg: process (reset, clk)
 	begin
 		if reset = '1' then
      		val_i <= val_i <= to_unsigned(255, val_i'length);
    elsif rising_edge(clk) then
    	if en = '1' then 
          if load = '1' then
            val_i <= val_in;
          end if;
    	end if;
    end if;
 	end process;
    val_out <= val_i;
end behavioural;